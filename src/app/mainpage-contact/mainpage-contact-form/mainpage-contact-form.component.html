<form id="contact-form" #contactForm='ngForm' (ngSubmit)="contactForm.form.valid && onSubmit($event, contactForm)">

    <div class="form-group">
        <label>Name</label>
        <input type="text" name="name" class="form-control" [(ngModel)]="model.name" #name='ngModel' />
    </div>

    <div class="form-group">
        <label>Subject</label>
        <input type="text" name="subject" class="form-control" [(ngModel)]="model.subject" #subject="ngModel" />
    </div>

    <div class="form-group">
        <label>Email*</label>
        <input type="email" name="email" class="form-control" [(ngModel)]="model.email" #email="ngModel" 
        [ngClass]="{ 'is-invalid': contactForm.submitted && email.invalid}" email required/>

        <div class="invalid-feedback" *ngIf="contactForm.submitted && email.invalid">
            <div *ngIf="email.errors.required">Email is required</div>
            <div *ngIf="email.errors.email">Must be a valid email address</div>
        </div>
    </div>

    <div class="form-group">
        <label>Message*</label>
        <textarea name="message" class="form-control" [(ngModel)]="model.message" #message="ngModel" minlength="1" 
        [ngClass]=" { 'is-invalid': contactForm.submitted && message.invalid}" required></textarea>
        <div class="invalid-feedback" *ngIf="contactForm.submitted && message.invalid">
            <div *ngIf="message.errors.required">A message is required</div>
        </div>
    </div>

    <div class="email-successful" 
        *ngIf="error === null && emailSent === true && successConfirmation === true">
        <p>Thank you for your email!</p>
        <p>I will get back to you as soon as I can.</p>
    </div>

    <div class="email-unsuccessful" 
        *ngIf="error !== null && emailSent === true && successConfirmation === false">
        <p>Email not sent. Error: {{ error }}</p>
        <p>Please try again later.</p>
    </div>

    <div class="form-group">
        <button class="mainpages-btn btn--action" type="submit" name="submit"><span>SEND</span></button>

    </div>

</form>