
<div id="youtube-on-repeat-main-container" class="min-vh-100 w-100">

    <div class="search-link-container row w-100 d-flex flex-column align-items-center justify-content-center">
        <div class="input-container col-11 col-sm-11 col-md-8 d-flex flex-sm-column flex-md-row align-items-center justify-content-center">
            <div class="row w-100">
                <input 
                    class="search-input col-12 col-sm-12 col-md-9" 
                    type="text" 
                    placeholder="Search Youtube Link" 
                    [(ngModel)]='searchParameters' 
                />
                <input 
                    class="button-input col-12 col-sm-12 col-md-3" 
                    type="button" 
                    value="Search"
                    (click)="search()"
                />
            </div>
        </div>
    </div>

    <div 
        class="youtube-link-container"
        *ngIf="chosenYoutubeId !== ''">
            <iframe 
                width="560" 
                height="315" 
                [src]='chosenYoutubeLink | safe'
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen>
            </iframe>
    </div>

    <div 
        class="error"
        *ngIf="error === true && smthWasSearched === true">
        <h4>Youtube Search Results:</h4>
        <p>{{errorMessage}}</p>
    </div>
    <div *ngIf="youtubeSearchResults.length > 0" class="youtube-link-results-container">
        <h4>Youtube Search Results:</h4>
        <div class="youtube-link-result" *ngFor="let link of youtubeSearchResults">
            <div class="youtube-video-thumbnail">
                <img src={{link.videoThumbnail.url}} width={{link.videoThumbnail.width}} height={{link.videoThumbnail.height}} />
            </div>
            <div class="youtube-video-title">
                {{link.videoTitle}}
            </div>
            <div class="play-video-button">
                <button (click)="playVideo(link.videoId)">Play On Repeat</button>
            </div>
        </div>
    </div>
</div>